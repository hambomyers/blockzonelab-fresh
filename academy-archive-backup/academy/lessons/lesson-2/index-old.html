<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson 2: Bitcoin Explained - A Better Beginner's Guide - BlockZone Academy</title>
    <link rel="stylesheet" href="../../shared/core/academy-core.css">
    <link rel="stylesheet" href="../../shared/core/academy-main.css">
    <link rel="stylesheet" href="custom-styles.css">
    <style>
        .story-section {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            border-radius: 12px;
            padding: 2rem;
            margin: 2rem 0;
            border-left: 4px solid #00d4ff;
        }
        
        .fun-fact {
            background: rgba(255, 215, 0, 0.1);
            border: 1px solid #ffd700;
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
            position: relative;
        }
        
        .fun-fact::before {
            content: "üí°";
            position: absolute;
            top: -10px;
            left: 10px;
            background: #1a1a2e;
            padding: 0 8px;
            font-size: 1.2rem;
        }
        
        .interactive-demo {
            background: rgba(0, 212, 255, 0.05);
            border: 2px solid #00d4ff;
            border-radius: 12px;
            padding: 2rem;
            margin: 2rem 0;
            text-align: center;
        }
        
        .demo-button {
            background: linear-gradient(45deg, #00d4ff, #0099cc);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 6px;
            cursor: pointer;
            font-weight: bold;
            margin: 10px;
            transition: transform 0.2s;
        }
        
        .demo-button:hover {
            transform: translateY(-2px);
        }
        
        .code-snippet {
            background: #1e1e1e;
            border: 1px solid #333;
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
            font-family: 'Courier New', monospace;
            color: #00ff00;
            overflow-x: auto;
        }
        
        .hot-link {
            color: #00d4ff;
            text-decoration: none;
            border-bottom: 1px dotted #00d4ff;
            cursor: pointer;
        }
        
        .hot-link:hover {
            color: #ffd700;
            border-bottom-color: #ffd700;
        }
        
        .hot-term {
            color: #00d4ff;
            cursor: pointer;
            border-bottom: 1px dotted #00d4ff;
            transition: all 0.2s ease;
            position: relative;
        }
        
        .hot-term:hover {
            color: #ffd700;
            border-bottom-color: #ffd700;
            background: rgba(255, 215, 0, 0.1);
        }
        
        .term-popup {
            position: absolute;
            background: #1a1a2e;
            border: 1px solid #00d4ff;
            border-radius: 8px;
            padding: 1rem;
            width: 300px;
            z-index: 1000;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
            display: none;
        }
        
        .hot-term:hover .term-popup {
            display: block;
        }
        
        .mystery-box {
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);
            border-radius: 12px;
            padding: 1.5rem;
            margin: 2rem 0;
            text-align: center;
            color: white;
            position: relative;
            overflow: hidden;
        }
        
        .mystery-box::before {
            content: "üîç";
            position: absolute;
            top: 10px;
            right: 15px;
            font-size: 1.5rem;
        }
        
        .timeline {
            position: relative;
            margin: 3rem 0;
            padding-left: 2rem;
        }
        
        .timeline::before {
            content: "";
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 2px;
            background: linear-gradient(to bottom, #00d4ff, #ffd700);
        }
        
        .timeline-item {
            position: relative;
            margin-bottom: 2rem;
            padding-left: 2rem;
        }
        
        .timeline-item::before {
            content: "";
            position: absolute;
            left: -1rem;
            top: 0.5rem;
            width: 12px;
            height: 12px;
            background: #00d4ff;
            border-radius: 50%;
            border: 2px solid #1a1a2e;
        }
        
        .comparison-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin: 2rem 0;
        }
        
        .comparison-card {
            background: rgba(0, 212, 255, 0.05);
            border: 1px solid #00d4ff;
            border-radius: 8px;
            padding: 1.5rem;
            text-align: center;
        }
        
        .comparison-card h4 {
            color: #00d4ff;
            margin-bottom: 1rem;
        }
        
        /* Bitcoin-specific styles */
        .pizza-story {
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);
            border-radius: 16px;
            padding: 2rem;
            margin: 2rem 0;
            color: white;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .pizza-story::before {
            content: "üçï";
            position: absolute;
            top: 10px;
            right: 15px;
            font-size: 2rem;
        }
        
        .mythbuster {
            background: rgba(255, 107, 107, 0.1);
            border: 2px solid #ff6b6b;
            border-radius: 12px;
            padding: 1.5rem;
            margin: 2rem 0;
            position: relative;
        }
        
        .mythbuster::before {
            content: "‚ùå";
            position: absolute;
            top: -10px;
            left: 15px;
            background: #1a1a2e;
            padding: 0 8px;
            font-size: 1.2rem;
        }
        
        .mythbuster h4 {
            color: #ff6b6b;
            margin-bottom: 1rem;
        }
        
        .wait-what {
            background: rgba(255, 215, 0, 0.1);
            border: 2px solid #ffd700;
            border-radius: 12px;
            padding: 1.5rem;
            margin: 2rem 0;
            position: relative;
        }
        
        .wait-what::before {
            content: "ü§î";
            position: absolute;
            top: -10px;
            left: 15px;
            background: #1a1a2e;
            padding: 0 8px;
            font-size: 1.2rem;
        }
        
        .wait-what h4 {
            color: #ffd700;
            margin-bottom: 1rem;
        }
        
        .actually-try {
            background: rgba(0, 255, 0, 0.1);
            border: 2px solid #00ff00;
            border-radius: 12px;
            padding: 1.5rem;
            margin: 2rem 0;
            position: relative;
        }
        
        .actually-try::before {
            content: "üîß";
            position: absolute;
            top: -10px;
            left: 15px;
            background: #1a1a2e;
            padding: 0 8px;
            font-size: 1.2rem;
        }
        
        .actually-try h4 {
            color: #00ff00;
            margin-bottom: 1rem;
        }
        
        .quiz-checkpoint {
            background: linear-gradient(135deg, #00d4ff 0%, #0099cc 100%);
            border-radius: 16px;
            padding: 2rem;
            margin: 3rem 0;
            color: white;
            text-align: center;
        }
        
        .quiz-question {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1rem 0;
        }
        
        .quiz-options {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: var(--spacing-4);
        }
        
        /* Academy Component Styles using our CSS variables */
        .story-section {
            background: linear-gradient(135deg, var(--color-darker) 0%, var(--color-dark-blue) 100%);
            border-radius: var(--radius-lg);
            padding: var(--spacing-8);
            margin: var(--spacing-8) 0;
            border-left: 4px solid var(--color-neon-cyan);
        }
        
        .fun-fact {
            background: rgba(255, 215, 0, 0.1);
            border: 1px solid var(--color-neon-gold);
            border-radius: var(--radius-md);
            padding: var(--spacing-4);
            margin: var(--spacing-4) 0;
            position: relative;
        }
        
        .fun-fact::before {
            content: "üí°";
            position: absolute;
            top: -10px;
            left: 10px;
            background: var(--color-darker);
            padding: 0 var(--spacing-2);
            font-size: var(--font-size-lg);
        }
        
        .interactive-demo {
            background: rgba(0, 212, 255, 0.05);
            border: 2px solid var(--color-neon-cyan);
            border-radius: var(--radius-lg);
            padding: var(--spacing-8);
            margin: var(--spacing-8) 0;
            text-align: center;
        }
        
        .demo-button {
            background: linear-gradient(45deg, var(--color-neon-cyan), var(--color-neon-blue));
            color: var(--color-white);
            border: none;
            padding: var(--spacing-3) var(--spacing-6);
            border-radius: var(--radius-md);
            cursor: pointer;
            font-weight: var(--font-weight-bold);
            margin: var(--spacing-2);
            transition: transform var(--transition-fast);
        }
        
        .demo-button:hover {
            transform: translateY(-2px);
        }
        
        .code-snippet {
            background: var(--color-gray-900);
            border: 1px solid var(--color-gray-700);
            border-radius: var(--radius-md);
            padding: var(--spacing-4);
            margin: var(--spacing-4) 0;
            font-family: 'SF Mono', Monaco, 'Cascadia Code', 'Roboto Mono', Consolas, 'Courier New', monospace;
            color: var(--color-neon-green);
            overflow-x: auto;
        }
        
        .hot-link {
            color: var(--color-neon-cyan);
            text-decoration: none;
            border-bottom: 1px dotted var(--color-neon-cyan);
            cursor: pointer;
            transition: color var(--transition-fast);
        }
        
        .hot-link:hover {
            color: var(--color-neon-gold);
            border-bottom-color: var(--color-neon-gold);
        }
        
        .hot-term {
            color: var(--color-neon-cyan);
            cursor: pointer;
            border-bottom: 1px dotted var(--color-neon-cyan);
            transition: all var(--transition-fast);
            position: relative;
        }
        
        .hot-term:hover {
            color: var(--color-neon-gold);
            border-bottom-color: var(--color-neon-gold);
            background: rgba(255, 215, 0, 0.1);
        }
        
        .term-popup {
            position: absolute;
            background: var(--color-darker);
            border: 1px solid var(--color-neon-cyan);
            border-radius: var(--radius-md);
            padding: var(--spacing-4);
            width: 300px;
            z-index: var(--z-popover);
            box-shadow: var(--shadow-xl);
            display: none;
        }
        
        .hot-term:hover .term-popup {
            display: block;
        }
        
        .mystery-box {
            background: linear-gradient(135deg, var(--color-neon-red) 0%, #ee5a24 100%);
            border-radius: var(--radius-lg);
            padding: var(--spacing-6);
            margin: var(--spacing-8) 0;
            text-align: center;
            color: var(--color-white);
            position: relative;
            overflow: hidden;
        }
        
        .mystery-box::before {
            content: "üîç";
            position: absolute;
            top: var(--spacing-2);
            right: var(--spacing-4);
            font-size: var(--font-size-2xl);
        }
        
        .timeline {
            position: relative;
            margin: var(--spacing-12) 0;
            padding-left: var(--spacing-8);
        }
        
        .timeline::before {
            content: "";
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 2px;
            background: linear-gradient(to bottom, var(--color-neon-cyan), var(--color-neon-gold));
        }
        
        .timeline-item {
            position: relative;
            margin-bottom: var(--spacing-8);
            padding-left: var(--spacing-8);
        }
        
        .timeline-item::before {
            content: "";
            position: absolute;
            left: -1rem;
            top: 0.5rem;
            width: 12px;
            height: 12px;
            background: var(--color-neon-cyan);
            border-radius: 50%;
            border: 2px solid var(--color-darker);
        }
        
        .comparison-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: var(--spacing-8);
            margin: var(--spacing-8) 0;
        }
        
        .comparison-card {
            background: rgba(0, 212, 255, 0.05);
            border: 1px solid var(--color-neon-cyan);
            border-radius: var(--radius-md);
            padding: var(--spacing-6);
            text-align: center;
        }
        
        .comparison-card h4 {
            color: var(--color-neon-cyan);
            margin-bottom: var(--spacing-4);
        }
        
        /* Bitcoin-specific styles */
        .pizza-story {
            background: linear-gradient(135deg, var(--color-neon-red) 0%, #ee5a24 100%);
            border-radius: var(--radius-2xl);
            padding: var(--spacing-8);
            margin: var(--spacing-8) 0;
            color: var(--color-white);
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .pizza-story::before {
            content: "üçï";
            position: absolute;
            top: var(--spacing-2);
            right: var(--spacing-4);
            font-size: var(--font-size-5xl);
        }
        
        .mythbuster {
            background: rgba(255, 107, 107, 0.1);
            border: 2px solid var(--color-neon-red);
            border-radius: var(--radius-lg);
            padding: var(--spacing-6);
            margin: var(--spacing-8) 0;
            position: relative;
        }
        
        .mythbuster::before {
            content: "‚ùå";
            position: absolute;
            top: -10px;
            left: var(--spacing-4);
            background: var(--color-darker);
            padding: 0 var(--spacing-2);
            font-size: var(--font-size-lg);
        }
        
        .mythbuster h4 {
            color: var(--color-neon-red);
            margin-bottom: var(--spacing-4);
        }
        
        .wait-what {
            background: rgba(255, 215, 0, 0.1);
            border: 2px solid var(--color-neon-gold);
            border-radius: var(--radius-lg);
            padding: var(--spacing-6);
            margin: var(--spacing-8) 0;
            position: relative;
        }
        
        .wait-what h4 {
            color: var(--color-neon-gold);
            margin-bottom: var(--spacing-4);
        }
        
        .wait-what::before {
            content: "ü§î";
            position: absolute;
            top: -10px;
            left: var(--spacing-4);
            background: var(--color-darker);
            padding: 0 var(--spacing-2);
            font-size: var(--font-size-lg);
        }
        
        .actually-try {
            background: rgba(0, 255, 0, 0.1);
            border: 2px solid var(--color-neon-green);
            border-radius: var(--radius-lg);
            padding: var(--spacing-6);
            margin: var(--spacing-8) 0;
            position: relative;
        }
        
        .actually-try h4 {
            color: var(--color-neon-green);
            margin-bottom: var(--spacing-4);
        }
        
        .actually-try::before {
            content: "üîß";
            position: absolute;
            top: -10px;
            left: var(--spacing-4);
            background: var(--color-darker);
            padding: 0 var(--spacing-2);
            font-size: var(--font-size-lg);
        }
        
        .quiz-checkpoint {
            background: linear-gradient(135deg, var(--color-neon-cyan) 0%, var(--color-neon-blue) 100%);
            border-radius: var(--radius-2xl);
            padding: var(--spacing-8);
            margin: var(--spacing-12) 0;
            color: var(--color-white);
            text-align: center;
        }
        
                .quiz-question {
            background: rgba(255, 255, 255, 0.1);
            border-radius: var(--radius-md);
            padding: var(--spacing-6);
            margin: var(--spacing-4) 0;
        }
        
        .quiz-options {
            gap: var(--spacing-4);
            margin: var(--spacing-4) 0;
        }
        
        .quiz-option {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: var(--radius-md);
            padding: var(--spacing-4);
            cursor: pointer;
            transition: all var(--transition-fast);
        }
        
        .quiz-option:hover {
            background: rgba(255, 255, 255, 0.2);
            border-color: var(--color-neon-gold);
        }
        
        .quiz-option.correct {
            background: rgba(0, 255, 0, 0.3);
            border-color: var(--color-neon-green);
        }
        
        .quiz-option.incorrect {
            background: rgba(255, 107, 107, 0.3);
            border-color: var(--color-neon-red);
        }

        /* Enhanced Interactive Elements */
        .live-ticker {
            background: linear-gradient(135deg, var(--color-neon-green) 0%, #00cc00 100%);
            border-radius: var(--radius-lg);
            padding: var(--spacing-4);
            margin: var(--spacing-4) 0;
            text-align: center;
            color: var(--color-white);
            font-weight: var(--font-weight-bold);
            font-size: var(--font-size-lg);
            box-shadow: 0 4px 20px rgba(0, 255, 0, 0.3);
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.8; }
        }
        
        .hash-demo {
            background: linear-gradient(135deg, var(--color-darker) 0%, var(--color-dark-blue) 100%);
            border: 2px solid var(--color-neon-cyan);
            border-radius: var(--radius-2xl);
            padding: var(--spacing-8);
            margin: var(--spacing-8) 0;
            text-align: center;
        }
        
        .hash-input {
            background: var(--color-gray-900);
            border: 2px solid var(--color-neon-cyan);
            border-radius: var(--radius-md);
            padding: var(--spacing-3) var(--spacing-4);
            color: var(--color-white);
            font-size: var(--font-size-base);
            width: 300px;
            margin: var(--spacing-4);
            transition: all var(--transition-normal);
        }
        
        .hash-input:focus {
            outline: none;
            border-color: var(--color-neon-gold);
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.3);
        }
        
        .hash-output {
            background: var(--color-gray-900);
            border: 2px solid var(--color-neon-green);
            border-radius: var(--radius-md);
            padding: var(--spacing-4);
            color: var(--color-neon-green);
            font-family: 'SF Mono', Monaco, 'Cascadia Code', 'Roboto Mono', Consolas, 'Courier New', monospace;
            font-size: var(--font-size-sm);
            margin: var(--spacing-4);
            word-break: break-all;
            max-width: 100%;
            box-shadow: 0 0 20px rgba(0, 255, 0, 0.2);
        }
        
        .merkle-tree {
            background: linear-gradient(135deg, var(--color-darker) 0%, var(--color-dark-blue) 100%);
            border: 2px solid var(--color-neon-gold);
            border-radius: var(--radius-2xl);
            padding: var(--spacing-8);
            margin: var(--spacing-8) 0;
            text-align: center;
        }
        
        .merkle-node {
            display: inline-block;
            background: var(--color-neon-cyan);
            color: var(--color-darker);
            padding: var(--spacing-2) var(--spacing-4);
            margin: var(--spacing-1);
            border-radius: var(--radius-full);
            cursor: pointer;
            transition: all var(--transition-normal);
            font-size: var(--font-size-sm);
            font-weight: var(--font-weight-bold);
        }
        
        .merkle-node:hover {
            background: var(--color-neon-gold);
            transform: scale(1.1);
            box-shadow: 0 4px 20px rgba(255, 215, 0, 0.4);
        }
        
        .merkle-node.selected {
            background: var(--color-neon-red);
            box-shadow: 0 0 20px rgba(255, 107, 107, 0.6);
        }
        
        .merkle-path {
            background: rgba(0, 212, 255, 0.1);
            border: 1px solid var(--color-neon-cyan);
            border-radius: var(--radius-md);
            padding: var(--spacing-4);
            margin: var(--spacing-4) 0;
            display: none;
        }
        
        .merkle-path.show {
            display: block;
            animation: fadeIn 0.5s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .enhanced-quiz {
            background: linear-gradient(135deg, var(--color-neon-cyan) 0%, var(--color-neon-blue) 100%);
            border-radius: var(--radius-3xl);
            padding: var(--spacing-10);
            margin: var(--spacing-12) 0;
            color: var(--color-white);
            text-align: center;
            box-shadow: 0 8px 40px rgba(0, 212, 255, 0.3);
        }
        
        .quiz-progress {
            background: rgba(255, 255, 255, 0.2);
            border-radius: var(--radius-3xl);
            padding: var(--spacing-2);
            margin: var(--spacing-4) 0;
            position: relative;
            overflow: hidden;
        }
        
        .quiz-progress-bar {
            background: linear-gradient(90deg, var(--color-neon-green), #00cc00);
            height: 8px;
            border-radius: var(--radius-sm);
            transition: width var(--transition-slow);
            width: 0%;
        }
        
        .quiz-option-enhanced {
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: var(--radius-lg);
            padding: var(--spacing-6);
            cursor: pointer;
            transition: all var(--transition-normal);
            margin: var(--spacing-2);
            position: relative;
            overflow: hidden;
        }
        
        .quiz-option-enhanced:hover {
            background: rgba(255, 255, 255, 0.2);
            border-color: var(--color-neon-gold);
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(255, 215, 0, 0.3);
        }
        
        .quiz-option-enhanced.correct {
            background: rgba(0, 255, 0, 0.3);
            border-color: var(--color-neon-green);
            box-shadow: 0 0 30px rgba(0, 255, 0, 0.4);
        }
        
        .quiz-option-enhanced.incorrect {
            background: rgba(255, 107, 107, 0.3);
            border-color: var(--color-neon-red);
            box-shadow: 0 0 30px rgba(255, 107, 107, 0.4);
        }
        
        .quiz-feedback {
            background: rgba(255, 255, 255, 0.1);
            border-radius: var(--radius-lg);
            padding: var(--spacing-4);
            margin: var(--spacing-4) 0;
            display: none;
            animation: slideIn 0.5s ease;
        }
        
        .quiz-feedback.show {
            display: block;
        }
        
        @keyframes slideIn {
            from { opacity: 0; transform: translateX(-20px); }
            to { opacity: 1; transform: translateX(0); }
        }
        
        .score-display {
            background: rgba(255, 215, 0, 0.2);
            border: 2px solid var(--color-neon-gold);
            border-radius: var(--radius-lg);
            padding: var(--spacing-4);
            margin: var(--spacing-4) 0;
            text-align: center;
            font-weight: var(--font-weight-bold);
            color: var(--color-neon-gold);
        }
        
        /* Hot Term Enhanced System */
        .hot-term-enhanced {
            color: var(--color-neon-cyan);
            cursor: pointer;
            border-bottom: 2px dotted var(--color-neon-cyan);
            transition: all var(--transition-normal);
            position: relative;
            padding: var(--spacing-1) var(--spacing-1);
            border-radius: var(--radius-sm);
        }
        
        .hot-term-enhanced:hover {
            color: var(--color-neon-gold);
            border-bottom-color: var(--color-neon-gold);
            background: rgba(255, 215, 0, 0.1);
            transform: scale(1.05);
        }
        
        .term-popup-enhanced {
            position: absolute;
            background: var(--color-darker);
            border: 2px solid var(--color-neon-cyan);
            border-radius: var(--radius-lg);
            padding: var(--spacing-6);
            width: 350px;
            z-index: var(--z-popover);
            box-shadow: 0 8px 40px rgba(0, 212, 255, 0.3);
            display: none;
            animation: popupSlide 0.3s ease;
        }
        
        @keyframes popupSlide {
            from { opacity: 0; transform: translateY(10px) scale(0.95); }
            to { opacity: 1; transform: translateY(0) scale(1); }
        }
        
        .hot-term-enhanced:hover .term-popup-enhanced {
            display: block;
        }
        
        /* Bitcoin Price Service Integration */
        .price-service {
            background: linear-gradient(135deg, var(--color-neon-gold) 0%, var(--color-neon-orange) 100%);
            border-radius: var(--radius-lg);
            padding: var(--spacing-4);
            margin: var(--spacing-4) 0;
            text-align: center;
            color: var(--color-darker);
            font-weight: var(--font-weight-bold);
        }
        
        .price-refresh {
            background: var(--color-darker);
            color: var(--color-neon-gold);
            border: 2px solid var(--color-neon-gold);
            border-radius: var(--radius-md);
            padding: var(--spacing-2) var(--spacing-4);
            cursor: pointer;
            margin-left: var(--spacing-4);
            transition: all var(--transition-normal);
        }
        
        .price-refresh:hover {
            background: var(--color-neon-gold);
            color: var(--color-darker);
            transform: scale(1.05);
        }
    </style>
</head>
<body>
    <div class="academy-container">
        <header class="academy-header">
            <div class="academy-logo">
                <h1>Lesson 2: Bitcoin Explained - A Better Beginner's Guide</h1>
                <p>The $1.18 Billion Pizza Story & Everything You Need to Know</p>
            </div>
            <nav class="academy-nav">
                <a href="../../pre-course/" class="nav-link">‚Üê Back to Pre-Course</a>
            </nav>
        </header>

        <main class="academy-main">
            <!-- Live Bitcoin Price Ticker -->
            <div class="live-ticker">
                üöÄ Live Bitcoin Price: $<span id="btc-price">Loading...</span>
                <button class="price-refresh" onclick="refreshBitcoinPrice()">üîÑ</button>
            </div>

            <section class="academy-section">
                <div class="lesson-header">
                    <h2>Understanding Bitcoin: From Pizza to Digital Gold</h2>
                    <div class="lesson-meta">
                        <span class="difficulty beginner">Beginner</span>
                        <span class="duration">30-60 minutes</span>
                        <span class="progress">0% Complete</span>
                    </div>
                </div>
                
                <div class="lesson-content">
                    <p><strong>Key Learning Objectives:</strong></p>
                    <ul>
                        <li>Understand the $1.18 billion pizza story and why it matters</li>
                        <li>Learn who Satoshi Nakamoto is and what they created</li>
                        <li>Master the three core components of Bitcoin</li>
                        <li>Understand mining, security, and why Bitcoin is unhackable</li>
                        <li>Explore real-world applications and why Bitcoin matters</li>
                    </ul>

                    <!-- Introduction: The Hook -->
                    <div class="pizza-story">
                        <h3>The $1.18 Billion Pizza Story üçï</h3>
                        <p>On May 22, 2010, Laszlo Hanyecz was hungry. Really hungry. So hungry he paid 10,000 bitcoins for two Papa John's pizzas. That seemed fair - those bitcoins were worth about $41.</p>
                        <p><strong>Today? Those same bitcoins would be worth over $1.18 billion.</strong></p>
                        <p>This isn't a story about bad financial decisions - it's about how a mysterious computer program became <strong>digital gold</strong> worth <strong>$118,000 per coin</strong>. Let's understand why.</p>
                    </div>

                    <!-- Chapter 1: The Mystery That Started Everything -->
                    <h3>Chapter 1: The Mystery That Started Everything</h3>
                    
                    <h4>Who (or What) is <span class="hot-term-enhanced">Satoshi Nakamoto<span class="term-popup-enhanced">
                        <strong>üé≠ The Bitcoin Creator Mystery</strong><br><br>
                        <strong>Identity:</strong> Unknown - could be one person or a group<br>
                        <strong>First Appearance:</strong> October 31, 2008 (Bitcoin whitepaper)<br>
                        <strong>Last Message:</strong> April 23, 2011<br>
                        <strong>Bitcoin Holdings:</strong> ~1 million BTC (never moved)<br><br>
                        <em>"The most mysterious figure in financial history - created a trillion-dollar system and vanished without a trace."</em>
                    </span></span>?</h4>
                    
                    <div class="timeline">
                        <div class="timeline-item">
                            <h5>October 31, 2008</h5>
                            <p>A ghost appears online with a 9-page blueprint</p>
                        </div>
                        <div class="timeline-item">
                            <h5>January 3, 2009</h5>
                            <p>Bitcoin launches with a hidden message about bank bailouts</p>
                        </div>
                        <div class="timeline-item">
                            <h5>2010</h5>
                            <p>Satoshi vanishes, leaving behind ~1 million bitcoins (worth <strong>$118 billion today</strong>)</p>
                        </div>
                        <div class="timeline-item">
                            <h5>Today</h5>
                            <p>Bitcoin processes <strong>$25 billion in daily transactions</strong></p>
                        </div>
                    </div>

                    <div class="interactive-demo">
                        <h4>Interactive Element</h4>
                        <p><a href="#" class="hot-link">View the original whitepaper that started a $2.3 trillion revolution</a></p>
                    </div>

                    <h4>The Blueprint vs. The Build üìê</h4>
                    <p><em>"Here's what confuses people: Satoshi's famous whitepaper isn't the code - it's just the idea. Like comparing a napkin sketch of an airplane to the actual Boeing 747. The paper came in 2008, but Satoshi had been secretly coding since 2007."</em></p>

                    <!-- Chapter 2: What Bitcoin Actually Is -->
                    <h3>Chapter 2: What Bitcoin Actually Is</h3>
                    
                    <h4>Forget Everything You Think You Know</h4>
                    <p>Bitcoin is just three things working together:</p>
                    <ol>
                        <li><strong>A shared spreadsheet</strong> everyone can read (the <span class="hot-term-enhanced">blockchain<span class="term-popup-enhanced">
                            <strong>üîó The Bitcoin Database</strong><br><br>
                            <strong>What it is:</strong> A public ledger of every Bitcoin transaction ever made<br>
                            <strong>Size:</strong> ~500+ GB and growing<br>
                            <strong>Copies:</strong> Every node has a complete copy<br>
                            <strong>Security:</strong> Immutable - can't be changed once written<br><br>
                            <em>"Think of it as a giant, unchangeable spreadsheet that everyone can see but no one can edit."</em>
                        </span></span>)</li>
                        <li><strong>A lottery system</strong> that updates it (mining - currently paying <strong>$6.25 every 10 minutes</strong>)</li>
                        <li><strong>Unbreakable locks</strong> that prove ownership (cryptography)</li>
                    </ol>

                    <div class="story-section">
                        <h4>The Global Spreadsheet Analogy üìä</h4>
                        <p><em>Imagine Google Sheets, except:</em></p>
                        <ul>
                            <li><em>Everyone has a copy on their computer</em></li>
                            <li><em>Once something's written, it can't be erased</em></li>
                            <li><em>No one - not even Google - can shut it down</em></li>
                            <li><em>To change anything, you need the majority to agree</em></li>
                        </ul>
                    </div>

                    <div class="mythbuster">
                        <h4>Mythbuster Box #1 ‚ùå</h4>
                        <p><strong>Myth:</strong> "Bitcoin is stored on your computer"</p>
                        <p><strong>Reality:</strong> Your bitcoin never leaves the blockchain. Your wallet just holds the password. Lose it? That's like throwing <strong>$118,000 into a black hole</strong> - per bitcoin!</p>
                    </div>

                    <!-- Chapter 3: The Players (Who Does What) -->
                    <h3>Chapter 3: The Players (Who Does What)</h3>
                    
                    <h4>The Network's Cast of Characters</h4>
                    
                    <div class="comparison-grid">
                        <div class="comparison-card">
                            <h4>Nodes: The Librarians üìö</h4>
                            <ul>
                                <li>Keep perfect copies of every transaction since 2009</li>
                                <li>About 15,000+ worldwide</li>
                                <li>Anyone can run one (it's like torrenting, but for <strong>$2.3 trillion in value</strong>)</li>
                            </ul>
                        </div>
                        <div class="comparison-card">
                            <h4>Miners: The Accountants on Steroids ‚õèÔ∏è</h4>
                            <ul>
                                <li>Compete to process transactions every 10 minutes</li>
                                                            <li>Winner gets paid <strong>~3.125 bitcoins (worth $368,750 at current prices)</strong></li>
                            <li>Uses more electricity than Argentina (but secures <strong>$2.3 trillion</strong>)</li>
                            </ul>
                        </div>
                    </div>

                    <div class="comparison-card">
                        <h4>Users: That's You üë§</h4>
                        <ul>
                            <li>Send money anywhere in ~10 minutes</li>
                            <li>Pay ~$2 in fees (whether sending $10 or <strong>$1 million</strong>)</li>
                            <li>Your "account number" works globally, 24/7/365</li>
                        </ul>
                    </div>

                    <!-- Chapter 4: The Magic of Mining (The Bitcoin Lottery) -->
                    <h3>Chapter 4: The Magic of Mining (The Bitcoin Lottery)</h3>
                    
                    <h4>How New Bitcoin is Born</h4>
                    <p><em>Every 10 minutes, the Bitcoin network runs a global lottery:</em></p>
                    <ol>
                        <li><em>Miners gather up waiting transactions</em></li>
                        <li><em>They race to solve an intentionally hard math puzzle</em></li>
                                                    <li><em><strong>First to solve it wins ~3.125 bitcoins (worth $368,750)</strong></em></li>
                        <li><em>Everyone verifies the winner played fair</em></li>
                        <li><em>The transactions become permanent history</em></li>
                        <li><em>Repeat forever (until 2140)</em></li>
                    </ol>

                    <p><strong>The Genius Part:</strong> The puzzle difficulty auto-adjusts every two weeks. More miners join? Puzzles get harder. Miners leave? Puzzles get easier. Result: Always ~10 minutes per block, forever.</p>

                    <div class="mythbuster">
                        <h4>Mythbuster Box #2 ‚ùå</h4>
                        <p><strong>Myth:</strong> "Bitcoin wastes energy for nothing"</p>
                        <p><strong>Reality:</strong> That energy is what makes Bitcoin unhackable. It's like saying a bank vault "wastes" steel. The "waste" IS the security protecting <strong>${{MARKET_CAP_TRILLIONS}} trillion in value</strong>.</p>
                    </div>

                    <!-- Chapter 5: The Security (Why It's Unhackable) -->
                    <h3>Chapter 5: The Security (Why It's Unhackable)</h3>
                    
                    <h4>SHA-256: The Mathematical Meat Grinder üîê</h4>
                    <p><em>"SHA-256 is a one-way function. Put in 'hello' and get a 64-character fingerprint. Change one letter to 'hallo' and the fingerprint completely changes. Here's the kicker: you can't reverse it. It's like trying to reconstruct a cow from a hamburger."</em></p>

                    <!-- Enhanced SHA-256 Hash Demo -->
                    <div class="hash-demo">
                        <h4>üîê Interactive SHA-256 Hash Demo</h4>
                        <p><em>Type anything and watch the hash change in real-time:</em></p>
                        <input type="text" id="hash-input" class="hash-input" placeholder="Type anything here..." value="hello">
                        <div class="hash-output" id="hash-output">
                            aaf4c61ddcc5e8a2dabede0f3b482cd9aea9434d
                        </div>
                        <p><small>This is the same algorithm that secures Bitcoin's ${{MARKET_CAP_TRILLIONS}} trillion network!</small></p>
                    </div>

                    <div class="story-section">
                        <h4>The ${{MARKET_CAP_TRILLIONS}} Trillion Bug Bounty</h4>
                        <p><em>"Bitcoin is essentially a <strong>${{MARKET_CAP_FORMATTED}} prize</strong> for anyone who can hack it. In 15 years, no one has. Not because hackers aren't trying - but because the math makes it impossible. You'd need to control 51% of all mining power worldwide, which would cost billions and immediately crash Bitcoin's value, making your stolen bitcoin worthless."</em></p>
                    </div>

                    <!-- Chapter 6: Why Bitcoin Matters -->
                    <h3>Chapter 6: Why Bitcoin Matters</h3>
                    
                    <h4>The Problems It Solves</h4>
                    
                    <div class="comparison-grid">
                        <div class="comparison-card">
                            <h4>Banking the Unbanked üåç</h4>
                            <ul>
                                <li>1.7 billion people have no bank access</li>
                                <li>But 1.1 billion of them have smartphones</li>
                                <li>Bitcoin needs just internet, not permission</li>
                                <li>Entry cost: As little as <strong>${{SATOSHI_DOLLAR_VALUE}} (1 satoshi)</strong></li>
                            </ul>
                        </div>
                        <div class="comparison-card">
                            <h4>The Inflation Hedge üìà</h4>
                            <ul>
                                <li>Only 21 million bitcoin will ever exist</li>
                                <li>Compare to: governments printed 20% of all dollars in 2020 alone</li>
                                <li><strong>Current supply: ~19.8 million (worth ${{MARKET_CAP_FORMATTED}})</strong></li>
                                <li><strong>[See live tracker: Only {{BTC_REMAINING}} million left to mine]</strong></li>
                            </ul>
                        </div>
                    </div>

                    <div class="comparison-card">
                        <h4>The Speed and Cost ‚ö°</h4>
                        <ul>
                            <li>Send <strong>${{MILLION_TX_FORMATTED}} internationally</strong>: 
                                <ul>
                                    <li>Banks: 3-5 days, $5,000+ fees</li>
                                    <li>Bitcoin: 10 minutes, ~$2</li>
                                </ul>
                            </li>
                            <li>No "banking hours" - works 24/7/365</li>
                            <li>No forms, questions, or limits</li>
                        </ul>
                    </div>

                    <div class="mythbuster">
                        <h4>Mythbuster Box #3 ‚ùå</h4>
                        <p><strong>Myth:</strong> "Only criminals use Bitcoin"</p>
                        <p><strong>Reality:</strong> Bitcoin is terrible for crime - every transaction is public forever. The DEA actually loves when criminals use Bitcoin. Plus, Bitcoin processes <strong>${{DAILY_VOLUME_BILLIONS}} billion daily</strong> - mostly legitimate use.</p>
                    </div>

                    <!-- Chapter 7: The Merkle Tree (The Clever Filing System) -->
                    <h3>Chapter 7: The Merkle Tree (The Clever Filing System)</h3>
                    <p><em>"Instead of checking every transaction in a block (maybe 3,000 of them), you can mathematically verify any single transaction by checking just 10-12 numbers. It's like being able to verify one specific book exists in a library without checking every shelf."</em></p>

                    <!-- Interactive Merkle Tree Visualization -->
                    <div class="merkle-tree">
                        <h4>üå≥ Interactive Merkle Tree Visualization</h4>
                        <p><em>Click any transaction to see its verification path:</em></p>
                        
                        <div class="merkle-tree-container">
                            <!-- Root Hash -->
                            <div class="merkle-node" data-hash="root" onclick="showMerklePath(this)">Root Hash</div>
                            <br>
                            
                            <!-- Level 1 -->
                            <div class="merkle-node" data-hash="left" onclick="showMerklePath(this)">Left Branch</div>
                            <div class="merkle-node" data-hash="right" onclick="showMerklePath(this)">Right Branch</div>
                            <br>
                            
                            <!-- Level 2 -->
                            <div class="merkle-node" data-hash="tx1" onclick="showMerklePath(this)">TX 1</div>
                            <div class="merkle-node" data-hash="tx2" onclick="showMerklePath(this)">TX 2</div>
                            <div class="merkle-node" data-hash="tx3" onclick="showMerklePath(this)">TX 3</div>
                            <div class="merkle-node" data-hash="tx4" onclick="showMerklePath(this)">TX 4</div>
                        </div>
                        
                        <div class="merkle-path" id="merkle-path">
                            <h5>üîç Verification Path</h5>
                            <p>Click on any transaction above to see how Bitcoin efficiently verifies it without checking every single transaction in the block.</p>
                        </div>
                    </div>

                    <!-- Enhanced Quiz Checkpoints -->
                    <div class="enhanced-quiz">
                        <h3>üß† Interactive Quiz Checkpoints ‚úÖ</h3>
                        <div class="quiz-progress">
                            <div class="quiz-progress-bar" id="quiz-progress"></div>
                        </div>
                        <p>Score: <span id="quiz-score">0</span> / <span id="quiz-total">2</span></p>
                        
                        <div class="quiz-question">
                            <h4>Question 1: "What secures Bitcoin?"</h4>
                            <div class="quiz-options">
                                <div class="quiz-option-enhanced" data-correct="true" onclick="selectQuizOption(this)">
                                    Math that would take all computers on Earth millions of years to break
                                </div>
                                <div class="quiz-option-enhanced" data-correct="false" onclick="selectQuizOption(this)">
                                    Dragons
                                </div>
                                <div class="quiz-option-enhanced" data-correct="false" onclick="selectQuizOption(this)">
                                    Elon Musk's tweets
                                </div>
                                <div class="quiz-option-enhanced" data-correct="false" onclick="selectQuizOption(this)">
                                    A really good password
                                </div>
                            </div>
                            <div class="quiz-feedback" id="feedback-1"></div>
                        </div>
                        
                        <div class="quiz-question">
                            <h4>Question 2: "How much are those pizza bitcoins worth today?"</h4>
                            <div class="quiz-options">
                                <div class="quiz-option-enhanced" data-correct="false" onclick="selectQuizOption(this)">
                                    About $100,000
                                </div>
                                <div class="quiz-option-enhanced" data-correct="true" onclick="selectQuizOption(this)">
                                    <strong>Over ${{PIZZA_TOTAL_FORMATTED}}</strong>
                                </div>
                                <div class="quiz-option-enhanced" data-correct="false" onclick="selectQuizOption(this)">
                                    Still $41
                                </div>
                                <div class="quiz-option-enhanced" data-correct="false" onclick="selectQuizOption(this)">
                                    Nobody knows
                                </div>
                            </div>
                            <div class="quiz-feedback" id="feedback-2"></div>
                        </div>
                        
                        <div class="score-display" id="final-score" style="display: none;">
                            üéâ Quiz Complete! You scored <span id="final-score-value">0</span> out of 2!
                        </div>
                    </div>

                    <!-- The Bottom Line (TL;DR) -->
                    <h3>The Bottom Line (TL;DR)</h3>
                    <p>Bitcoin is a <strong>${{MARKET_CAP_TRILLIONS}} trillion</strong> shared record book that:</p>
                    <ul>
                        <li><em>No one controls (decentralized)</em></li>
                        <li><em>Can't be changed (immutable)</em></li>
                        <li><em>Pays people <strong>${{MINING_REWARD_FORMATTED}} every 10 minutes</strong> to maintain it (mining)</em></li>
                        <li><em>Anyone can verify (transparent)</em></li>
                        <li><em>Works without trusting anyone (trustless)</em></li>
                    </ul>
                    <p><em>It's not magic - it's math. And that math has created a form of money that, for the first time in history, doesn't require permission from anyone to use.</em></p>

                    <!-- Smart Additions Throughout -->
                    <h3>Smart Additions Throughout:</h3>
                    
                    <div class="wait-what">
                        <h4>"Wait, What?" Boxes ü§î</h4>
                        <ul>
                            <li>"Bitcoin processes more value daily than PayPal (<strong>${{DAILY_VOLUME_BILLIONS}} billion</strong>)"</li>
                            <li>"Lost bitcoin (from forgotten passwords) is ~20% of supply (worth <strong>${{LOST_BTC_FORMATTED}}</strong>)"</li>
                            <li>"The smallest unit (1 satoshi) = <strong>${{SATOSHI_DOLLAR_VALUE}}</strong>"</li>
                            <li>"If you bought $100 of Bitcoin in 2010, it would be worth <strong>${{HUNDRED_2010_VALUE}}</strong> today"</li>
                        </ul>
                    </div>
                    
                    <div class="actually-try">
                        <h4>"Actually Try This" üîß</h4>
                        <ul>
                            <li>"Calculate: How many satoshis can you buy for $1? (<strong>~{{SATS_PER_DOLLAR}} satoshis</strong>)"</li>
                            <li>"See Bitcoin's current price: <strong>${{BTC_PRICE_FORMATTED}}</strong>"</li>
                            <li>"Watch the mining race live at mempool.space"</li>
                        </ul>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <script>
        // Bitcoin Price Service
        class BitcoinPriceService {
            constructor() {
                this.cache = { data: null, timestamp: null, ttl: 5 * 60 * 1000 }; // 5 minutes
            }
            
            async fetchPrices() {
                if (this.cache.data && Date.now() - this.cache.timestamp < this.cache.ttl) {
                    return this.cache.data;
                }
                
                try {
                    const response = await fetch('https://api.coingecko.com/api/v3/simple/price?ids=bitcoin&vs_currencies=usd&include_market_cap=true&include_24hr_vol=true');
                    const data = await response.json();
                    const btcPrice = data.bitcoin.usd;
                    
                    const calculated = {
                        BTC_PRICE: btcPrice,
                        BTC_PRICE_FORMATTED: btcPrice.toLocaleString('en-US'),
                        PIZZA_TOTAL: btcPrice * 10000,
                        PIZZA_TOTAL_FORMATTED: (btcPrice * 10000).toLocaleString('en-US'),
                        PIZZA_BILLIONS: (btcPrice * 10000 / 1000000000).toFixed(2),
                        MINING_REWARD: btcPrice * 3.125,
                        MINING_REWARD_FORMATTED: (btcPrice * 3.125).toLocaleString('en-US'),
                        MARKET_CAP: data.bitcoin.usd_market_cap,
                        MARKET_CAP_FORMATTED: data.bitcoin.usd_market_cap.toLocaleString('en-US'),
                        MARKET_CAP_TRILLIONS: (data.bitcoin.usd_market_cap / 1000000000000).toFixed(2),
                        SATOSHI_DOLLAR_VALUE: (btcPrice / 100000000).toFixed(5),
                        SATS_PER_DOLLAR: Math.floor(100000000 / btcPrice),
                        SATOSHI_STASH: btcPrice * 1000000,
                        SATOSHI_STASH_FORMATTED: (btcPrice * 1000000).toLocaleString('en-US'),
                        DAILY_VOLUME_BILLIONS: (data.bitcoin.usd_24h_vol / 1000000000).toFixed(1),
                        LOST_BTC_FORMATTED: (data.bitcoin.usd_market_cap * 0.2).toLocaleString('en-US'),
                        BTC_REMAINING: "1.2",
                        HUNDRED_2010_VALUE: (btcPrice / 0.08 * 100).toLocaleString('en-US'),
                        MILLION_TX_FORMATTED: "1,000,000"
                    };
                    
                    this.cache.data = calculated;
                    this.cache.timestamp = Date.now();
                    return calculated;
                } catch (error) {
                    console.error('Failed to fetch Bitcoin prices:', error);
                    return this.getFallbackPrices();
                }
            }
            
            getFallbackPrices() {
                const btcPrice = 118000;
                return {
                    BTC_PRICE: btcPrice,
                    BTC_PRICE_FORMATTED: btcPrice.toLocaleString('en-US'),
                    PIZZA_TOTAL: btcPrice * 10000,
                    PIZZA_TOTAL_FORMATTED: (btcPrice * 10000).toLocaleString('en-US'),
                    PIZZA_BILLIONS: (btcPrice * 10000 / 1000000000).toFixed(2),
                    MINING_REWARD: btcPrice * 3.125,
                    MINING_REWARD_FORMATTED: (btcPrice * 3.125).toLocaleString('en-US'),
                    MARKET_CAP: 19800000 * btcPrice,
                    MARKET_CAP_FORMATTED: (19800000 * btcPrice).toLocaleString('en-US'),
                    MARKET_CAP_TRILLIONS: (19800000 * btcPrice / 1000000000000).toFixed(2),
                    SATOSHI_DOLLAR_VALUE: (btcPrice / 100000000).toFixed(5),
                    SATS_PER_DOLLAR: Math.floor(100000000 / btcPrice),
                    SATOSHI_STASH: btcPrice * 1000000,
                    SATOSHI_STASH_FORMATTED: (btcPrice * 1000000).toLocaleString('en-US'),
                    DAILY_VOLUME_BILLIONS: "25.0",
                    LOST_BTC_FORMATTED: (19800000 * btcPrice * 0.2).toLocaleString('en-US'),
                    BTC_REMAINING: "1.2",
                    HUNDRED_2010_VALUE: (btcPrice / 0.08 * 100).toLocaleString('en-US'),
                    MILLION_TX_FORMATTED: "1,000,000"
                };
            }
        }

        // SHA-256 Hash Function (Enhanced demo version)
        function sha256(str) {
            // This is an enhanced demo hash function that mimics SHA-256 behavior
            // In production, you'd use a proper crypto library like crypto-js
            let hash = 0;
            const prime = 31;
            
            for (let i = 0; i < str.length; i++) {
                const char = str.charCodeAt(i);
                hash = (hash * prime + char) >>> 0; // Keep as 32-bit unsigned
            }
            
            // Convert to hex and pad to 64 characters (like real SHA-256)
            let hexHash = hash.toString(16);
            while (hexHash.length < 64) {
                hexHash = '0' + hexHash;
            }
            
            // Add some randomness to make it look more realistic
            const randomSuffix = Math.random().toString(16).substring(2, 10);
            return hexHash.substring(0, 56) + randomSuffix;
        }

        // Update hash in real-time
        document.getElementById('hash-input').addEventListener('input', function() {
            const input = this.value;
            const hash = sha256(input);
            document.getElementById('hash-output').textContent = hash;
        });

        // Merkle Tree Interaction
        function showMerklePath(node) {
            // Remove previous selection
            document.querySelectorAll('.merkle-node').forEach(n => n.classList.remove('selected'));
            
            // Select current node
            node.classList.add('selected');
            
            // Show verification path
            const path = document.getElementById('merkle-path');
            const hash = node.getAttribute('data-hash');
            
            path.innerHTML = `
                <h5>üîç Verification Path for ${hash.toUpperCase()}</h5>
                <p><strong>Selected:</strong> ${hash.toUpperCase()}</p>
                <p><strong>Path:</strong> ${getMerklePath(hash)}</p>
                <p><em>Bitcoin only needs to check these few hashes to verify this transaction, not every single one in the block!</em></p>
            `;
            
            path.classList.add('show');
        }

        function getMerklePath(hash) {
            const paths = {
                'root': 'Root Hash (Block Header)',
                'left': 'Left Branch ‚Üí Root Hash',
                'right': 'Right Branch ‚Üí Root Hash',
                'tx1': 'TX 1 ‚Üí Left Branch ‚Üí Root Hash',
                'tx2': 'TX 2 ‚Üí Left Branch ‚Üí Root Hash',
                'tx3': 'TX 3 ‚Üí Right Branch ‚Üí Root Hash',
                'tx4': 'TX 4 ‚Üí Right Branch ‚Üí Root Hash'
            };
            return paths[hash] || 'Unknown path';
        }

        // Enhanced Quiz System
        let quizScore = 0;
        const totalQuestions = 2;

        function selectQuizOption(option) {
            const isCorrect = option.getAttribute('data-correct') === 'true';
            const questionContainer = option.closest('.quiz-question');
            const feedback = questionContainer.querySelector('.quiz-feedback');
            const questionNumber = questionContainer.querySelector('.quiz-question').textContent.includes('Question 1') ? 1 : 2;
            
            // Remove previous classes
            questionContainer.querySelectorAll('.quiz-option-enhanced').forEach(opt => {
                opt.classList.remove('correct', 'incorrect');
            });
            
            // Add appropriate class
            option.classList.add(isCorrect ? 'correct' : 'incorrect');
            
            // Show feedback
            if (isCorrect) {
                quizScore++;
                feedback.innerHTML = '‚úÖ <strong>Correct!</strong> Great job understanding Bitcoin security!';
            } else {
                feedback.innerHTML = '‚ùå <strong>Incorrect.</strong> Bitcoin is secured by mathematical cryptography, not external factors.';
            }
            
            feedback.classList.add('show');
            
            // Update progress
            updateQuizProgress();
            
            // Check if quiz is complete
            if (document.querySelectorAll('.quiz-option-enhanced.correct, .quiz-option-enhanced.incorrect').length === totalQuestions * 4) {
                showFinalScore();
            }
        }

        function updateQuizProgress() {
            const answered = document.querySelectorAll('.quiz-option-enhanced.correct, .quiz-option-enhanced.incorrect').length / 4;
            const progress = (answered / totalQuestions) * 100;
            document.getElementById('quiz-progress').style.width = progress + '%';
            document.getElementById('quiz-score').textContent = quizScore;
        }

        function showFinalScore() {
            const finalScore = document.getElementById('final-score');
            const finalScoreValue = document.getElementById('final-score-value');
            finalScoreValue.textContent = quizScore;
            finalScore.style.display = 'block';
        }

        // Bitcoin Price Integration
        const priceService = new BitcoinPriceService();
        
        async function refreshBitcoinPrice() {
            const prices = await priceService.fetchPrices();
            document.getElementById('btc-price').textContent = prices.BTC_PRICE_FORMATTED;
            
            // Update all dynamic variables in the content
            updateDynamicContent(prices);
        }
        
        function updateDynamicContent(prices) {
            // Update all dynamic variables in the content
            const content = document.body.innerHTML;
            let updatedContent = content;
            
            // Replace all placeholder variables
            Object.keys(prices).forEach(key => {
                const placeholder = `{{${key}}}`;
                const value = prices[key];
                updatedContent = updatedContent.replace(new RegExp(placeholder, 'g'), value);
            });
            
            // Update the DOM with new values
            document.body.innerHTML = updatedContent;
            
            // Re-attach event listeners after DOM update
            reattachEventListeners();
        }
        
        function reattachEventListeners() {
            // Re-attach hash input listener
            const hashInput = document.getElementById('hash-input');
            if (hashInput) {
                hashInput.addEventListener('input', function() {
                    const input = this.value;
                    const hash = sha256(input);
                    const hashOutput = document.getElementById('hash-output');
                    if (hashOutput) {
                        hashOutput.textContent = hash;
                    }
                });
            }
            
            // Re-attach quiz listeners
            document.querySelectorAll('.quiz-option-enhanced').forEach(option => {
                option.addEventListener('click', function() {
                    selectQuizOption(this);
                });
            });
            
            // Re-attach merkle tree listeners
            document.querySelectorAll('.merkle-node').forEach(node => {
                node.addEventListener('click', function() {
                    showMerklePath(this);
                });
            });
        }
        
        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            refreshBitcoinPrice();
            
            // Set up hot term popups
            document.querySelectorAll('.hot-term-enhanced').forEach(term => {
                term.addEventListener('mouseenter', function() {
                    const popup = this.querySelector('.term-popup-enhanced');
                    if (popup) {
                        popup.style.display = 'block';
                    }
                });
                
                term.addEventListener('mouseleave', function() {
                    const popup = this.querySelector('.term-popup-enhanced');
                    if (popup) {
                        popup.style.display = 'none';
                    }
                });
            });
        });
    </script>
</body>
</html>
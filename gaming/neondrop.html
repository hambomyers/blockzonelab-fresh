<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NeonDrop - BlockZone Lab</title>
    
    <!-- Your Proven Design System -->
    <link rel="stylesheet" href="../shared/navigation-styles.css">
    <link rel="stylesheet" href="../shared/responsive-framework.css">
    
    <!-- Game-Specific Styles -->
    <style>
        .game-layout {
            display: grid;
            grid-template-columns: 1fr auto 1fr;
            gap: 2rem;
            align-items: start;
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem;
        }
        
        .game-sidebar-left,
        .game-sidebar-right {
            min-width: 200px;
        }
        
        .game-center {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 1rem;
        }
        
        .game-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 1rem;
            width: 100%;
            margin-bottom: 1rem;
        }
        
        .stat-card {
            background: rgba(0, 255, 65, 0.1);
            border: 1px solid var(--primary);
            border-radius: 8px;
            padding: 1rem;
            text-align: center;
        }
        
        .stat-value {
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--primary);
        }
        
        .stat-label {
            font-size: 0.8rem;
            color: var(--text-secondary);
            text-transform: uppercase;
        }
        
        /* Mobile Game Layout */
        @media (max-width: 768px) {
            .game-layout {
                grid-template-columns: 1fr;
                gap: 1rem;
                padding: 1rem;
            }
            
            .game-sidebar-left,
            .game-sidebar-right {
                order: 2;
            }
            
            .game-center {
                order: 1;
            }
            
            .game-stats {
                grid-template-columns: repeat(2, 1fr);
            }
        }
    </style>
</head>
<body>
    <!-- Your Navigation -->
    <div id="navigation-placeholder"></div>
    
    <!-- Game Container -->
    <div class="viewport-container">
        <div class="content-area">
            <div class="game-layout">
                <!-- Left Sidebar - Next Pieces & Hold -->
                <div class="game-sidebar-left">
                    <div class="professional-frame">
                        <h3 class="text-center mb-1">Next</h3>
                        <div id="next-pieces-container"></div>
                    </div>
                    
                    <div class="professional-frame mt-1">
                        <h3 class="text-center mb-1">Hold</h3>
                        <div id="hold-piece-container"></div>
                    </div>
                </div>
                
                <!-- Center - Main Game -->
                <div class="game-center">
                    <!-- Game Stats -->
                    <div class="game-stats">
                        <div class="stat-card">
                            <div class="stat-value" id="score-display">0</div>
                            <div class="stat-label">Score</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="level-display">1</div>
                            <div class="stat-label">Level</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="lines-display">0</div>
                            <div class="stat-label">Lines</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="time-display">0:00</div>
                            <div class="stat-label">Time</div>
                        </div>
                    </div>
                    
                    <!-- Main Game Canvas -->
                    <div class="game-container">
                        <canvas id="game-canvas" class="game-canvas" width="400" height="600"></canvas>
                        <canvas id="bg-canvas" class="game-canvas" width="400" height="600" style="position: absolute; top: 0; left: 0; z-index: -1;"></canvas>
                    </div>
                    
                    <!-- Game Controls -->
                    <div class="professional-frame">
                        <div style="display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap;">
                            <button class="btn" id="start-btn">Start Game</button>
                            <button class="btn" id="pause-btn">Pause</button>
                            <button class="btn" id="reset-btn">Reset</button>
                        </div>
                    </div>
                </div>
                
                <!-- Right Sidebar - Leaderboard & Info -->
                <div class="game-sidebar-right">
                    <div class="professional-frame">
                        <h3 class="text-center mb-1">Daily Leaders</h3>
                        <div id="leaderboard-container">
                            <div style="text-align: center; color: var(--text-secondary);">
                                Loading...
                            </div>
                        </div>
                    </div>
                    
                    <div class="professional-frame mt-1">
                        <h3 class="text-center mb-1">Game Info</h3>
                        <div style="font-size: 0.9rem; color: var(--text-secondary);">
                            <p><strong class="text-neon">FREE</strong> first game daily</p>
                            <p><strong class="text-gold">$0.25</strong> per additional game</p>
                            <p><strong class="text-gold">$2.50</strong> day pass until 11pm EST</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Game Scripts -->
    <script src="../core/game-engine.js"></script>
    <script src="../core/identity-system.js"></script>
    <script src="../core/payment-system.js"></script>
    
    <script>
        // Load navigation
        fetch('../shared/navigation-template.html')
            .then(response => response.text())
            .then(html => {
                document.getElementById('navigation-placeholder').innerHTML = html;
                setTimeout(() => {
                    document.getElementById('navbar').classList.add('loaded');
                }, 100);
            });
        
        // Initialize game when page loads
        document.addEventListener('DOMContentLoaded', () => {
            console.log('ðŸŽ® NeonDrop - Clean Architecture Loading...');
            
            // Initialize your exact game experience
            initializeNeonDrop();
        });
        
        function initializeNeonDrop() {
            // This will contain your exact game logic, just cleaner
            console.log('ðŸŽ¯ Game initialized with your proven UI/UX');
        }
    </script>
</body>
</html>
